# РАЗРАБОТКА ИГРОВЫХ СЕРВИСОВ
Отчет по лабораторной работе #1 выполнил(а):
- Кыров Валентин Сергеевич
- 1922524
Отметка о выполнении заданий (заполняется студентом):

| Задание | Выполнение | Баллы |
| ------ | ---------- | ------ |
| Задание 1 | *          | 60 |
| Задание 2 | *          | 20 |
| Задание 3 | #          | 20 |

знак "*" - задание выполнено; знак "#" - задание не выполнено;

Работу проверили:
- к.т.н., доцент Денисов Д.В.
- к.э.н., доцент Панов М.А.
- ст. преп., Фадеев В.О.


## Цель работы
Интеграция сервиса для получения данных профиля пользователя.

## Задание 1
### По теме видео практических работ 1-5 повторить реализацию игры на Unity. Привести описание выполненных действий.
Ход работы:
1. Я решил пойти по альтернативному пути и вместо предложенного к созданию Dragon Picker использовать свой пет-проект, собранный в рамках учебного модуля "Непримитивные примитивы программиста". Это 2D - мобильная игра "WTF: Why you Try to Fall". Из себя она представляет подобие Doodle Jump, выполненное в инверсии. Целью игры является не прыгнуть как можно выше, а падать как можно дольше, обходя различные препятствия. [Overview.jpg] [Demo.gif]
2. Проект на момент начала модуля находится в состоянии proof-of-concept. В нём воплощены такие механики, как:
    1. Расчёт физики для 2D объектов (персонаж является RigidBody)
    2. Генерация объектов из префабов (создаются препятствия для игрока, подробно настраивается в инспекторе, все префабы препятствий имеют коллайдер)
```csharp
//скрипт генерации объектов
 IEnumerator Spawn () {
        yield return new WaitForSeconds (TimeSpawn);
        int rand = Random.Range (0, objects.Length - 1);
        Instantiate (objects[rand], objects [rand].transform.position, Quaternion.identity);
    Repeat ();
    }
    Возможность приостановить / перезапустить игру
  ```
    
  3. Подсчёт времени сессии
  4. Отображение координаты игрока как игровой переменной
  5. Экран финиша со статистикой игры
Смена ускорения свободного падения с набором высоты (имитация выхода в космос) (работает через смену параметра GravityScale у персонажа)
3. Так как проект изначально разрабатывался под Android, для "порта" на WebGL я сделал несколько косметических изменений, таких как смена ориентации на альбомную, смена управления с сенсорного на кнопки клавиатуры и адаптация канваса под десктоп. [OverviewAndroid.jpg]
4. Также, для корректной работы плагинов YandexGamesSDK в дальнейшем я перевёл проект на актуальную версию движка (сам проект первоначально собирался ещё в версии 2019.4.4)



## Задание 2
### В проект, выполненный в предыдущем задании, добавить систему проверки того, что SDK подключен (доступен в режиме онлайн и отвечает на запросы)
Ход работы:
1. Сначала я подключил SDK Яндекс Игр, опираясь на [документацию сервиса.](https://yandex.ru/dev/games/doc/dg/sdk/sdk-about.html) Для этого в файл index.html в корневой папке билда игры я дописал следующий скрипт JS:
```javascript
<!-- Yandex Games SDK -->
<script src="https://yandex.ru/games/sdk/v2"> </script>
```
2. Затем, для проверки подключения я инициализировал SDK, добавив в тот же index.html следующий скрипт:
```javascript
YaGames
    .init()
    .then(ysdk => {
        console.log('Yandex SDK initialized');
        window.ysdk = ysdk;
    });
```
1. После этого я запустил на локальной машине собранный проект, и открыл консоль веб-страницы, чтобы удостовериться в подключении.
[!](https://github.com/clzhckr/GameServices_URFU/blob/main/Lab2/Media/ConsoleLog.png)




## Выводы

В ходе работы я изучил методы портирования приложений на WebGL

